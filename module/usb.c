/*===============================================================================
 Copyright (C) Andrzej Adamczyk (at https://blackdev.org/). All rights reserved.
===============================================================================*/

	//----------------------------------------------------------------------
	// variables, structures, definitions of kernel
	//----------------------------------------------------------------------
	#include	"../kernel/apic.h"
	#include	"../kernel/idt.h"
	#include	"../kernel/io_apic.h"
	#include	"../kernel/page.h"
	// --- always at end
	#include	"../kernel/config.h"
	//======================================================================

	//----------------------------------------------------------------------
	// Build-in driver variables, structures, definitions
	//----------------------------------------------------------------------
	#include	"../kernel/driver/pci.h"
	#include	"../kernel/driver/port.h"
	//======================================================================

	//----------------------------------------------------------------------
	// Build-in driver routines, procedures
	//----------------------------------------------------------------------
	#include	"../kernel/driver/pci.c"
	#include	"../kernel/driver/port.c"
	//======================================================================

	//----------------------------------------------------------------------
	// variables, structures, definitions of module
	//----------------------------------------------------------------------
	#include	"./usb/config.h"
	//======================================================================

	//----------------------------------------------------------------------
	// variables, structures of module
	//----------------------------------------------------------------------
	#include	"./usb/data.c"
	//======================================================================

void _entry( uintptr_t kernel_ptr ) {
	// preserve kernel structure pointer
	kernel = (struct KERNEL *) kernel_ptr;

	// hold the door
	while( TRUE ) kernel -> time_sleep( TRUE );
}
